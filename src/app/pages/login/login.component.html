<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-0 h-75">
    <div class="row g-0 h-100">

      <div class="col-md-6">
        <img ngSrc="images/login-image.jpg" alt="Login Image" class="rounded rounded-end-0 position-relative object-fit-cover" loading="lazy" fill  />
      </div>

      <div class="col-md-6 d-flex justify-content-center align-items-center">
        <div class="card-body">
          <h3 class="card-title">Welcome back!</h3>
          <p class="card-text">
            Please login to access your
            <a class="text-primary" href="#">Spaces</a>
            Dashboard
          </p>
          <form [formGroup]="form" (ngSubmit)="submitLogin()">

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                type="text"
                formControlName="email"
                class="form-control"
                [attr.disabled]="loading ? loading : null"
                [ngClass]="{'is-invalid': submitted && form.get('email')?.errors}"
                aria-describedby="email"
                id="email"
                placeholder="Email..." />

              <!-- Email validation errors -->
              @if (submitted && form.get('email')?.errors) {
              <div class="invalid-feedback">
                @if (form.get('email')?.hasError('required')) { Email is required. } @if (form.get('email')?.hasError('email')) { Please enter a valid
                email address. }
              </div>
              }
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                [attr.disabled]="loading ? loading : null"
                formControlName="password"
                class="form-control"
                [ngClass]="{'is-invalid': submitted && form.get('password')?.errors}"
                aria-describedby="password"
                id="password"
                placeholder="Password..." />

              <!-- Password validation errors -->
              @if (submitted && form.get('password')?.errors) {
              <div class="invalid-feedback">
                @if (form.get('password')?.hasError('required')) { Password is required. } @if (form.get('password')?.hasError('minlength')) {
                Password must be at least 6 characters long. }
              </div>
              }
            </div>

            <!-- Forgot password link -->
            <div class="mb-3">
              <a href="#" class="text-muted small">Forgot password?</a>
            </div>

            <!-- Submit button with loading spinner -->
            <div class="mb-3">
              <button type="submit" [disabled]="loading" class="btn btn-primary w-100 fw-bold px-4 py-2">
                @if (loading) {
                <div class="spinner-border spinner-btn text-white" role="status"></div>
                } @else { LOGIN }
              </button>
            </div>

            <!-- Error message alert -->
            @if (errorMessage) {
            <ngb-alert #errorMessageAlert type="warning" class="text-center" (closed)="errorMessage = ''">{{ errorMessage | titlecase }}</ngb-alert>
            }

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
